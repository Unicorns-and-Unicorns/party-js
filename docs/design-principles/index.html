<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="party.js Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="party.js Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EWQS5KE2B5"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-EWQS5KE2B5",{anonymize_ip:!0})</script><title data-react-helmet="true">Design Principles | party.js</title><meta data-react-helmet="true" property="og:url" content="https://party.js.org//docs/design-principles"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="theme-color" content="#FF7F6B"><meta data-react-helmet="true" property="og:title" content="Design Principles | party.js"><meta data-react-helmet="true" name="description" content="-   Quick Setup: The library is meant to be plug-and-play; no complicated installation setup, no huge config files, just quick effects to get the users started. The implementation of the library is meant to seamlessly and unobtrusively integrate into various web environments, for example SPAs."><meta data-react-helmet="true" property="og:description" content="-   Quick Setup: The library is meant to be plug-and-play; no complicated installation setup, no huge config files, just quick effects to get the users started. The implementation of the library is meant to seamlessly and unobtrusively integrate into various web environments, for example SPAs."><meta data-react-helmet="true" property="og:image" content="https://party.js.org//img/banner.png"><meta data-react-helmet="true" name="twitter:image" content="https://party.js.org//img/banner.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/img/logo.svg"><link data-react-helmet="true" rel="canonical" href="https://party.js.org//docs/design-principles"><link data-react-helmet="true" rel="alternate" href="https://party.js.org//docs/design-principles" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://party.js.org//docs/design-principles" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.e6de1c7d.css">
<link rel="preload" href="/assets/js/runtime~main.41acf10f.js" as="script">
<link rel="preload" href="/assets/js/main.25fbb73e.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="party.js Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="party.js Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">party.js</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/docs/api">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/yiliansource/party-js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="party.js Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="party.js Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">party.js</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/api">API</a></li><li class="menu__list-item"><a href="https://github.com/yiliansource/party-js" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link"></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/"><img src="/img/logo.svg" alt="party.js Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo.svg" alt="party.js Logo" class="themedImage_1VuW themedImage--dark_hz6m"><strong>party.js</strong></a><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/">Quick Start</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/design-principles">Design Principles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributing">Contributing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/migrating-v1-v2">Migrating from v1</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ref/templates">Templates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ref/sources">Sources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ref/variations">Variations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ref/shapes">Shapes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ref/particle-modules">Particle Modules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ref/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ref/components">Components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ref/utilities">Utilities</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/using-templates">Using Templates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/custom-effects">Custom Effects</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Advanced</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/advanced/ssr">Server-Side Rendering</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Design Principles</h1></header><div class="markdown"><ul><li><strong>Quick Setup</strong>: The library is meant to be plug-and-play; no complicated installation setup, no huge config files, just quick effects to get the users started. The implementation of the library is meant to seamlessly and unobtrusively integrate into various web environments, for example SPAs.</li><li><strong>Customizability</strong>: Users of the library should be able to fully customize the effects that they want to use. For simple customizations, this involves feeding a configuration object into a template, but for more complex ones this means that most of the API is exposed and can thusly be used.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="how-the-library-works"></a>How the library works<a class="hash-link" href="#how-the-library-works" title="Direct link to heading">#</a></h2><p>The library tries it&#x27;s best to seperate logical systems from each other. The core components include <strong>particles</strong>, <strong>emitters</strong>, the <strong>scene</strong> and the <strong>renderer</strong>, which we will look at in the following paragraphs.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>This section is just meant for users that want to get a better understanding of what happens under the hood. If you just want to know <em>how</em> to use the library, check out the <a href="/docs/">quick start</a> guide, or the other guides.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="particles"></a>Particles<a class="hash-link" href="#particles" title="Direct link to heading">#</a></h3><p>Particles are essentially just data containers. They do not know how to render themselves, they just know what they consist of, like their position, color or lifetime.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="emitters"></a>Emitters<a class="hash-link" href="#emitters" title="Direct link to heading">#</a></h3><p>Emitters create particles - it&#x27;s as straightforward as that. They have an internal store of all particles that they created and are responsible for, as well as emission options that define how and when they emit said particles.</p><p>The emission behaviour can be customized by specifying the amount of emitted particles per seconds, as well as bursts, which define an instantaneous emission of multiple particles.</p><p>Additionally, emitters are also responsible for updating (ticking) the particles, updating their values. This means applying the pseudo-physics to displace them, as well as applying any particle modifier modules that are registered on the emitter. These modules change the properties of particles over their lifetime, or are driven by other particle properties, such as their size.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="the-scene"></a>The Scene<a class="hash-link" href="#the-scene" title="Direct link to heading">#</a></h3><p>Scenes contain emitters, and are responsible for updating them. Tick events are scheduled through them and passed down to the emitters, where they are handled appropriately.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="the-renderer"></a>The Renderer<a class="hash-link" href="#the-renderer" title="Direct link to heading">#</a></h3><p>The behaviour above has been purely data-driven so far. No actual DOM modifications or canvas drawing has occurred yet. This is where the renderer comes in. It has the very important job of displaying the particles that the emitters are taking care of to the actual user.</p><p>The procedure is as follows:</p><ol><li>We start a new rendering block. This is done to ensure that we can record certain metadata, such as the list of particles that were actually rendered in the frame.</li><li>We iterate through every emitter and every particle, sequentially telling the renderer to draw each particle. If no HTMLElement for a particle exists yet, the renderer uses a factory to generate one, and applies it to the DOM, inside of a container object. Options for rendering said particles can be defined through the emitter itself, but the defaults are meant to operative as well as they can on the standard HTML elements:<ul><li>Color is applied adaptively through the particle&#x27;s HTML tag. <code>div</code>s have their background color set, while <code>svg</code>s have their fill and foreground colors set.</li><li>Opacity is applied through the opacity CSS style.</li><li>Lighting is calculated using the simple &quot;n-dot-l&quot;-model, meaning that we calculate the lighting coefficient as the dot product of the particles surface normal and the direction of the light. The normal direction of the particle is inferred through its rotation.</li><li>Transformations, such as location and rotation, are applied as CSS transforms.</li></ul></li><li>After we&#x27;re done rendering an individual particle, we push its ID onto a stack of rendered particles. Internally, we are keeping track of every HTMLElement we rendered, and the corresponding particle ID.</li><li>After we end the rendering block we started at the beginning we look through the list of rendered particles, to find out which particles we did <strong>not</strong> render. These are the ones that apparently no longer exist inside any emitters in the scene, and can therefore be removed from the DOM.</li></ol></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/yiliansource/party-js/edit/main/docs/docs/design-principles.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Quick Start</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/contributing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Contributing »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-the-library-works" class="table-of-contents__link">How the library works</a><ul><li><a href="#particles" class="table-of-contents__link">Particles</a></li><li><a href="#emitters" class="table-of-contents__link">Emitters</a></li><li><a href="#the-scene" class="table-of-contents__link">The Scene</a></li><li><a href="#the-renderer" class="table-of-contents__link">The Renderer</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/contributing">Contributing</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/migrating-v1-v2">Migrating from v1 to v2</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/guides/using-templates">Guides</a></li><li class="footer__item"><a href="https://github.com/yiliansource/party-js" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><div class="copynote">Copyright © 2021 Ian Hornik. Built with <span style="color: #e31b23;">❤</span> and Docusaurus.<br><span style="opacity: 0.6">Icons made by <a href="https://www.flaticon.com/authors/freepik" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></span></div></div></div></div></footer></div>
<script src="/assets/js/runtime~main.41acf10f.js"></script>
<script src="/assets/js/main.25fbb73e.js"></script>
</body>
</html>